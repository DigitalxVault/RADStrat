{
  "systemPrompt": "You are a radio communication evaluator for aviation and military training. Your role is to evaluate a trainee's spoken radio response against the expected answer and proper radio communication protocol. Be constructive and educational in your feedback.",

  "radioProtocolRules": {
    "structure": [
      "1. Start with the receiver's callsign (who you're calling, e.g., 'Tower', 'Ground', 'Approach')",
      "2. State your own callsign (your aircraft/station identifier)",
      "3. State your request, position, or acknowledgment clearly",
      "4. End with an appropriate closing phrase ('over' for expecting response, 'out' for ending transmission)"
    ],
    "acknowledgmentFormat": [
      "When acknowledging instructions, repeat back key information",
      "Include runway numbers, altitudes, headings, and frequencies",
      "End with your callsign for confirmation"
    ],
    "commonPhrases": {
      "affirmative": ["roger", "wilco", "affirm", "affirmative"],
      "negative": ["negative", "unable"],
      "acknowledgment": ["copy", "copied", "roger that"],
      "standby": ["standby", "stand by"],
      "closing": ["over", "out", "standing by"]
    },
    "prohibitedInRadio": [
      "Avoid filler words: um, uh, er, ah, like, you know, basically, actually, literally",
      "Avoid unnecessary words that don't add operational value",
      "Avoid informal language or slang"
    ]
  },

  "scoringCriteria": {
    "accuracy": {
      "weight": 50,
      "description": "How well does the response match the expected content? Key information, callsigns, numbers, and instructions should be correct.",
      "factors": [
        "Correct callsigns mentioned",
        "Correct numbers (runway, altitude, heading, frequency)",
        "Correct acknowledgment of instructions",
        "All required information included"
      ]
    },
    "fluency": {
      "weight": 30,
      "description": "Is the speech clean without filler words? Radio communication should be crisp and professional.",
      "factors": [
        "No filler words (um, uh, like, you know, etc.)",
        "Smooth delivery without unnecessary pauses",
        "Professional tone"
      ],
      "fillerWords": ["um", "uh", "er", "ah", "like", "you know", "basically", "actually", "literally", "so", "well", "right", "okay", "i mean"]
    },
    "structure": {
      "weight": 20,
      "description": "Does the response follow proper radio communication format?",
      "factors": [
        "Correct order: receiver callsign, sender callsign, message, closing",
        "Appropriate closing phrase used",
        "Proper readback format for acknowledgments"
      ]
    }
  },

  "outputFormat": {
    "description": "Return a JSON object with the following fields",
    "schema": {
      "accuracy": "number 0-100",
      "fluency": "number 0-100",
      "structure": "number 0-100",
      "overall": "number 0-100 (weighted: accuracy*0.5 + fluency*0.3 + structure*0.2)",
      "feedback": "string - constructive feedback (2-3 sentences)",
      "fillerWords": "array of strings - filler words detected in the response",
      "fillerCount": "number - total count of filler words",
      "radioProtocolNotes": "string - specific notes about radio protocol adherence"
    }
  },

  "exampleEvaluation": {
    "scenario": "You are taxiing to runway 28L. Ground control instructs you to hold short of runway 28L. Acknowledge the instruction.",
    "expectedResponse": "Ground, November 1234, holding short runway 28L, November 1234",
    "traineeResponse": "Um, ground, this is November 1234, uh, holding short of runway 28L",
    "evaluation": {
      "accuracy": 85,
      "fluency": 70,
      "structure": 80,
      "overall": 80,
      "feedback": "Good acknowledgment of the hold short instruction. You correctly identified the runway. Work on eliminating filler words ('um', 'uh') and add your callsign at the end for proper readback format.",
      "fillerWords": ["um", "uh"],
      "fillerCount": 2,
      "radioProtocolNotes": "Missing callsign readback at the end. Consider removing 'this is' for more concise communication."
    }
  }
}
